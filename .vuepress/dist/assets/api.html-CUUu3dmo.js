import{_ as n,c as a,a as e,o as l}from"./app-DbkgKvGM.js";const i={};function p(t,s){return l(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="api-设计最佳实践" tabindex="-1"><a class="header-anchor" href="#api-设计最佳实践"><span>API 设计最佳实践</span></a></h1><h2 id="restful-api-设计原则" tabindex="-1"><a class="header-anchor" href="#restful-api-设计原则"><span>RESTful API 设计原则</span></a></h2><h3 id="_1-资源命名" tabindex="-1"><a class="header-anchor" href="#_1-资源命名"><span>1. 资源命名</span></a></h3><ul><li>使用名词而非动词</li><li>使用复数形式</li><li>使用小写字母和连字符</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 好的例子</span></span>
<span class="line">GET /api/users</span>
<span class="line">GET /api/users/123</span>
<span class="line">POST /api/users</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 不好的例子</span></span>
<span class="line">GET /api/getUsers</span>
<span class="line">GET /api/user/123</span>
<span class="line">POST /api/createUser</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-http-方法使用" tabindex="-1"><a class="header-anchor" href="#_2-http-方法使用"><span>2. HTTP 方法使用</span></a></h3><ul><li><code>GET</code>：获取资源</li><li><code>POST</code>：创建资源</li><li><code>PUT</code>：更新整个资源</li><li><code>PATCH</code>：部分更新资源</li><li><code>DELETE</code>：删除资源</li></ul><h3 id="_3-状态码规范" tabindex="-1"><a class="header-anchor" href="#_3-状态码规范"><span>3. 状态码规范</span></a></h3><ul><li><code>200</code>：成功</li><li><code>201</code>：创建成功</li><li><code>400</code>：请求错误</li><li><code>401</code>：未授权</li><li><code>403</code>：禁止访问</li><li><code>404</code>：资源不存在</li><li><code>500</code>：服务器错误</li></ul><h2 id="响应格式" tabindex="-1"><a class="header-anchor" href="#响应格式"><span>响应格式</span></a></h2><h3 id="统一响应格式" tabindex="-1"><a class="header-anchor" href="#统一响应格式"><span>统一响应格式</span></a></h3><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 实际数据</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T00:00:00Z&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="分页响应" tabindex="-1"><a class="header-anchor" href="#分页响应"><span>分页响应</span></a></h3><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;items&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>...<span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;pagination&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;page&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;pages&quot;</span><span class="token operator">:</span> <span class="token number">10</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="错误处理" tabindex="-1"><a class="header-anchor" href="#错误处理"><span>错误处理</span></a></h2><h3 id="错误响应格式" tabindex="-1"><a class="header-anchor" href="#错误响应格式"><span>错误响应格式</span></a></h3><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;参数错误&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;errors&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;邮箱格式不正确&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T00:00:00Z&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="安全考虑" tabindex="-1"><a class="header-anchor" href="#安全考虑"><span>安全考虑</span></a></h2><ol><li><strong>认证授权</strong>：使用 JWT 或 OAuth 2.0</li><li><strong>输入验证</strong>：严格验证所有输入参数</li><li><strong>HTTPS</strong>：强制使用 HTTPS</li><li><strong>限流</strong>：防止 API 滥用</li><li><strong>日志记录</strong>：记录所有 API 调用</li></ol><h2 id="版本控制" tabindex="-1"><a class="header-anchor" href="#版本控制"><span>版本控制</span></a></h2><h3 id="url-版本控制" tabindex="-1"><a class="header-anchor" href="#url-版本控制"><span>URL 版本控制</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">/api/v1/users</span>
<span class="line">/api/v2/users</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="header-版本控制" tabindex="-1"><a class="header-anchor" href="#header-版本控制"><span>Header 版本控制</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">Accept: application/vnd.api+json;version=1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="文档化" tabindex="-1"><a class="header-anchor" href="#文档化"><span>文档化</span></a></h2><p>使用 OpenAPI/Swagger 规范编写 API 文档，包括：</p><ul><li>接口描述</li><li>请求参数</li><li>响应格式</li><li>错误码说明</li><li>示例代码</li></ul><hr><p><em>最后更新：2024年1月3日</em></p>`,29)])])}const c=n(i,[["render",p]]),r=JSON.parse('{"path":"/docs/theme-reco/api.html","title":"API 设计最佳实践","lang":"en-US","frontmatter":{"title":"API 设计最佳实践","date":"2024/01/03","tags":["API","设计","最佳实践"],"categories":["技术文档"]},"headers":[{"level":2,"title":"RESTful API 设计原则","slug":"restful-api-设计原则","link":"#restful-api-设计原则","children":[{"level":3,"title":"1. 资源命名","slug":"_1-资源命名","link":"#_1-资源命名","children":[]},{"level":3,"title":"2. HTTP 方法使用","slug":"_2-http-方法使用","link":"#_2-http-方法使用","children":[]},{"level":3,"title":"3. 状态码规范","slug":"_3-状态码规范","link":"#_3-状态码规范","children":[]}]},{"level":2,"title":"响应格式","slug":"响应格式","link":"#响应格式","children":[{"level":3,"title":"统一响应格式","slug":"统一响应格式","link":"#统一响应格式","children":[]},{"level":3,"title":"分页响应","slug":"分页响应","link":"#分页响应","children":[]}]},{"level":2,"title":"错误处理","slug":"错误处理","link":"#错误处理","children":[{"level":3,"title":"错误响应格式","slug":"错误响应格式","link":"#错误响应格式","children":[]}]},{"level":2,"title":"安全考虑","slug":"安全考虑","link":"#安全考虑","children":[]},{"level":2,"title":"版本控制","slug":"版本控制","link":"#版本控制","children":[{"level":3,"title":"URL 版本控制","slug":"url-版本控制","link":"#url-版本控制","children":[]},{"level":3,"title":"Header 版本控制","slug":"header-版本控制","link":"#header-版本控制","children":[]}]},{"level":2,"title":"文档化","slug":"文档化","link":"#文档化","children":[]}],"git":{"createdTime":1758455839000,"updatedTime":1758455839000,"contributors":[{"name":"lyl888","email":"liyuliang040612@163.com","commits":1}]},"filePathRelative":"docs/theme-reco/api.md"}');export{c as comp,r as data};
